<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css">
    <link href='https://api.mapbox.com/mapbox-gl-js/v2.3.1/mapbox-gl.css' rel='stylesheet' />
    <title>SwitchBox</title>
</head>
<body class="d-xlg-flex fluid">
    <!-- Navbar -->
    <bg-dark>

        <nav class="navbar navbar-expand-sm bg-dark navbar-dark py-0.5 fixed-top">
            <div class="container">
                <a href="/index.html" class="navbar-brand">SwitchBox</a>

                <button class="navbar-toggler"
                        type="button"
                        data-bs-toggle="collapse"
                        data-bs-target="#navmenu">

                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navmenu">
                    <ul class="navbar-nav ms-auto">

                        <li class="nav item">
                            <a href="/index.html#projects" class="nav-link">Projects</a>
                        </li>
                        <li class="nav item">
                            <a href="https://github.com/enzosupreme" class="nav-link">Github</a>
                        </li>
                        <li class="nav item">
                            <a href="https://www.instagram.com/circuitboredlab/" class="nav-link">Instagram</a>
                        </li>
                        <li class="nav item">
                            <a href="https://twitter.com/CircuitBoredLab" class="nav-link">Twittter</a>
                        </li>
                        <li class="nav item">
                            <a href="https://www.etsy.com/shop/CircuitBoredLab" class="nav-link">Shop</a>
                        </li>
                        <li class="nav item">
                            <a href="/index.html#about" class="nav-link">About</a>
                        </li>

                    </ul>
                </div>


            </div>
        </nav>

        <section>
            <div class="container-fluid">
                <h1 class="text-warning text-center">SwitchBox</h1>
            </div>
        </section>



        <!--Carousel -->

        <section>


            <div id="carousel bg-dark" class="carousel slide" data-bs-ride="carousel">
                <div class="carousel-inner">
                    <div class="carousel-item">
                        <img src="/img/switchbox/15.gif" class="d-block w-100" alt="...">
                    </div>
                    <div class="carousel-item active">
                        <img src="/img/switchbox/2.JPG" class="d-block w-100" alt="...">
                    </div>
                    <div class="carousel-item">
                        <img src="/img/switchbox/12.jpg" class="d-block w-100" alt="...">
                    </div>
                    <div class="carousel-item">
                        <img src="/img/switchbox/9.JPG" class="d-block w-100" alt="...">
                    </div>
                    <div class="carousel-item">
                        <img src="/img/switchbox/17.jpg" class="d-block w-100" alt="...">
                    </div>
                    <div class="carousel-item">
                        <img src="/img/switchbox/18.gif" class="d-block w-100" alt="...">
                    </div>
                    <div class="carousel-item">
                        <img src="/img/switchbox/14.jpg" class="d-block w-100" alt="...">
                    </div>

                </div>
            </div>

        </section>



        <section>
            <div class="p-3 bg-dark text-light position-relative">
                <div class="container">

                    <p class="text-center">
                        I've been wanting to try building a fightstick using a microcontroller for some time now. I have also been wanting to try <a href="https://www.hitboxarcade.com/blogs/hit-box/hit-box-info-page">a Hitbox</a>, but did not want to invest in getting one. I came across a few home made fight sticks that use a pi pico
                        and found out there is even firmware written for them. So I wanted to try building a fightstick that can become a hitbox using a micro controller and 3d printed parts.

                    </p>

                    <p></p>

                    <img src="/img/switchbox/10.jpg" class="img-fluid md-5" media="(max-width: 400px)" alt="">
                    <img src="/img/switchbox/8.jpg" class="img-fluid md-5" media="(max-width: 400px)" alt="">

                    <h1 class="text-warning text-left">Stage 1: Design and Build</h1>
                    <p class="text-center">

                        The design for this was pretty basic. I made a box for the main buttons, 6 on top and four on the front. I made a hole for the rotary encoder and slots for the display, usb port and connector. I followed the same design concept for the slave sides. I printed the enclosures with magnets to have them snap together... it works well,
                        but the magnets need to be stronger, I may have to redesign this at a later date, but for now it works well as a desktop controller.


                    </p>
                    <img src="/img/switchbox/5.jpg" class="img-fluid md-5" media="(max-width: 400px)" alt="">


                    <h1 class="text-warning text-left">Stage 2: Code</h1>
                    <p style="text-indent:40px" class="text-center"></p>

                    So before I played around with <ahref ="https://github.com/FeralAI/GP2040">GP2040</ahref>, Firstly I wanted to add a display so I could display the key layout while in use and a rotary encoder to switch between modes.
                    I had the idea of building it like a split kb using kmk firmware having a main side that auxillary sides could connect to using a trrs conncection. This proved to be more difficult I anticipated. The kmk firmware is setup to read inputs from a grid matrix, this makes sense because it is designed for home made keyboard which would typically have more keys than pins available on the board.
                    I however did not wire the buttons in a matrix configuration, but instead had each key wired to the board independently. Without columns and rows assigned I could not figure out how to read inputs from a secondary board, despite the board receiving power. To work around this I decided to connect wires directly to board and connected them to a JST connecter.
                    I then wired the male side to the joystick and one to the hitbox. This allowed me to split the connection while the board assumes the controls are wired directly. I then created a key layout for NullDC(a dreamcast/naomi emulator), steam and a multimedia control layer. I setup the media layer to also allow me to scroll web pages using the joystick.
                    It took me a while and a bunch of research to get the display working, but after a lot of tinkering I got the display on and had it print the current keymap of the layer currently assigned.

                    I did end up playing around with GP2040 and I really like it. It is a very user friendly firmware with an easy use configuration app. The on display button mapping works well too and it is multi-platform. As much as I liked it, it was limited in cusomizability so end the end I went back to what I wrote.

                    </p>



                    <p class="text-center">The code can be found here on my github:
                    <p class="text-center">
                        <a href="https://github.com/enzosupreme/Switchbox">
                            <button type="button" class="btn btn-success">Github</button>
                        </a>
                    </p>



                </div>



            </div>

        </section>



        <!-- Footer -->
        <footer class="md-15 p-3 bg-dark text-white text-center position-relative fluid">
            <div class="container">
                <p class="lead">Copyright &copy; 2021 Shaun Brown, Circuit Bored Lab</p>
        <li>
            <a href="#" class="nav-link position-absolute bottom-0 end- fixed-bottom">
                <i class="bi bi-arrow-up-circle h1 text-light"></i>
            </a>
        </li>

        </div>

        </footer>

        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>

</body>
</html>
